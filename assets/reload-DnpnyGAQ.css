.reload-ceremony{width:100%;height:100%;display:flex;flex-direction:column;background:linear-gradient(180deg,#1a1a2e,#16213e);color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;position:relative;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.reload-ceremony *{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}.step-indicator{display:flex;justify-content:center;gap:12px;padding:20px;flex-shrink:0}.step-dot{width:10px;height:10px;border-radius:50%;background:#fff3;transition:all .3s ease}.step-dot.active{background:gold;box-shadow:0 0 10px #ffd70080;transform:scale(1.2)}.step-dot.completed{background:#4ade80}.step-container{flex:1;min-height:0;display:flex;flex-direction:column;padding:0 20px 24px;overflow-y:auto}.step-header{text-align:center;margin-bottom:16px;flex-shrink:0}.header-icon{font-size:48px;margin-bottom:12px;color:#fffc}.step-header h1{font-size:24px;font-weight:700;margin-bottom:8px;color:#fff}.step-subtitle{color:#fff9;font-size:14px;line-height:1.5;max-width:320px;margin:0 auto}.period-dates{color:#fff9;font-size:14px}.round-summary{text-align:center;margin-bottom:16px;padding:12px 0}.summary-period{font-size:14px;color:#ffffff80;margin-bottom:20px;font-weight:500}.summary-stats{display:flex;justify-content:center;gap:32px}.summary-stat{text-align:center}.summary-stat .stat-label{display:block;font-size:11px;color:#fff6;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px}.summary-stat .stat-value{display:block;font-size:28px;font-weight:700;color:#fff}.summary-stat.highlight .stat-value{color:#4ade80}.insights-label{font-size:12px;color:#fff6;text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}.debrief-cards{display:flex;flex-direction:column;gap:8px;margin-bottom:24px;flex:1}.debrief-card{display:flex;align-items:center;gap:12px;background:#ffffff0a;border-radius:12px;padding:12px 14px;border:1px solid rgba(255,255,255,.06);transition:transform .2s ease}.debrief-card:hover{transform:translate(4px)}.debrief-card.big-spender{border-left:4px solid #4db6ac}.debrief-card.big-spender .card-icon{color:#4db6ac;background:#4db6ac26}.debrief-card.high-traffic{border-left:4px solid #f06292}.debrief-card.high-traffic .card-icon{color:#f06292;background:#f0629226}.debrief-card.ghost-town{border-left:4px solid #9575cd}.debrief-card.ghost-town .card-icon{color:#9575cd;background:#9575cd26}.card-icon{font-size:20px;flex-shrink:0;display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:10px;background:#ffffff1a}.card-content{flex:1}.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2px}.card-title{font-weight:600;font-size:14px}.card-value{font-weight:600;font-size:14px;color:#ffffffb3}.card-description{color:#fff6;font-size:12px}.primary-button{width:100%;padding:16px 24px;background:#fff;border:none;border-radius:12px;color:#1a1a2e;font-size:16px;font-weight:700;cursor:pointer;transition:all .2s ease;margin-top:auto;flex-shrink:0}.primary-button:hover{transform:translateY(-2px);box-shadow:0 8px 20px #fff3}.primary-button:disabled{opacity:.4;cursor:not-allowed;transform:none}.leftovers-section,.drop-targets-section{margin-bottom:20px}.section-label{font-size:12px;font-weight:600;color:#ffffff80;text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px}.drop-targets-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.envelope-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:16px}.envelope-grid.leftovers{margin-bottom:24px}.envelope-tile{position:relative;display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 12px 14px;background:#fff;border-radius:16px;border:2px solid transparent;cursor:grab;transition:all .2s ease;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none}.envelope-tile.small{padding:12px 8px 10px;gap:6px}.envelope-tile:hover{transform:translateY(-2px);box-shadow:0 8px 20px #00000026}.envelope-tile:active{cursor:grabbing;transform:scale(.98)}.envelope-tile.faded{opacity:.35;pointer-events:none}.envelope-tile.highlighted{box-shadow:0 0 0 2px #fff6,0 8px 20px #00000026}.envelope-tag{position:absolute;top:6px;right:6px;font-size:9px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#00000080;background:#00000014;padding:2px 6px}.envelope-tag.savings-tag{position:static;transform:none;background:#cd5c5c26;color:#c97373;border-radius:4px;margin-top:2px}.envelope-icon-badge{width:48px;height:48px;border-radius:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026}.envelope-tile.small .envelope-icon-badge{width:40px;height:40px;border-radius:12px}.envelope-name{font-size:12px;font-weight:600;text-align:center;color:#1a1a2e}.envelope-tile.small .envelope-name{font-size:11px}.envelope-amount{font-size:18px;font-weight:700;color:#1a1a2e}.envelope-tile.small .envelope-amount{font-size:15px}.envelope-progress{width:100%;height:4px;background:#0000001a;border-radius:2px;overflow:hidden;margin-top:2px}.envelope-progress-fill{height:100%;border-radius:2px;transition:width .3s ease}.allocation-step{overflow:hidden;display:flex;flex-direction:column}.allocation-step .step-header{margin-bottom:12px;flex-shrink:0}.allocation-step .allocation-income-section,.allocation-step .allocation-progress,.allocation-step .quick-action-buttons,.allocation-step .primary-button{flex-shrink:0}.allocation-step .primary-button{position:relative;z-index:20}.allocation-income-section{display:flex;justify-content:center;margin-bottom:16px}.envelope-tile.income-envelope{width:140px;cursor:default;position:relative}.envelope-tile.income-envelope:hover{transform:none}.income-remaining-badge{font-size:12px;font-weight:600;margin-top:2px}.allocation-progress{margin-bottom:16px}.allocation-progress-bar{height:8px;background:#ffffff26;border-radius:4px;overflow:hidden;margin-bottom:8px;display:flex}.allocation-progress-fill{height:100%;background:linear-gradient(90deg,#4ade80,#22c55e);border-radius:4px 0 0 4px;transition:width .3s ease}.allocation-progress-fill.savings-fill{border-radius:0 4px 4px 0;background:linear-gradient(90deg,#ef4444,#dc2626)}.allocation-progress-labels{display:flex;justify-content:space-between;font-size:12px;color:#fff9}.savings-usage-label{color:#f87171}.allocation-income-section{display:flex;gap:12px;justify-content:center;align-items:flex-end;margin-bottom:16px}.envelope-tile.funding-savings{border:2px solid #ef4444;box-sizing:border-box}.envelope-tile.at-top{position:fixed;z-index:100}.envelope-tile.funding-savings-slot{width:113px;box-sizing:border-box}.envelope-tag.withdrawal-tag{background:#ef4444;color:#fff;font-weight:700}.funding-swap-hint{font-size:9px;color:#00000059;margin-top:2px}.envelope-tile.blocked-savings{opacity:.5;filter:grayscale(.5)}.envelope-tile.blocked-savings .envelope-tag.savings-tag{display:none}.envelope-tile.blocked-savings:after{content:"blocked";position:absolute;bottom:8px;left:50%;transform:translate(-50%);font-size:8px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#ef4444;background:#ef444426;padding:3px 8px;border-radius:4px}.quick-action-buttons{display:flex;gap:10px;margin-bottom:16px;justify-content:center}.chip-button{padding:8px 20px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:20px;color:#fff;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s ease}.chip-button:hover{background:#fff3}.chip-button:active{transform:scale(.96)}.allocation-grid-tap{margin-bottom:16px;flex:1;min-height:0;overflow-y:auto;overflow-x:hidden;padding-right:4px;padding-bottom:8px;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;touch-action:pan-y;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none}.allocation-grid-tap *{user-select:none;-webkit-user-select:none;-webkit-touch-callout:none}.allocation-grid-tap::-webkit-scrollbar{width:4px}.allocation-grid-tap::-webkit-scrollbar-track{background:#0000001a;border-radius:2px}.allocation-grid-tap::-webkit-scrollbar-thumb{background:#0003;border-radius:2px}.envelope-tile.allocation-envelope{cursor:pointer;transition:all .2s ease,transform .3s cubic-bezier(.175,.885,.32,1.275);min-height:145px;justify-content:flex-start;padding-top:12px;padding-bottom:12px}.envelope-tile.allocation-envelope:active{transform:scale(.96)}.envelope-tile.allocation-envelope.filled{border:2px solid #4ade80;box-shadow:0 4px 12px #4ade8040}.envelope-tile.allocation-envelope.filled .envelope-icon-badge{box-shadow:0 4px 12px #00000026,0 0 0 2px #4ade804d}.envelope-tag.filled-tag{background:#4ade80;color:#fff;font-weight:700}.envelope-suggested{font-size:10px;color:#0006;margin-top:2px}.envelope-suggested.hidden{visibility:hidden}.envelope-suggested-italic{font-size:10px;font-style:italic;color:#0006;margin-top:2px}.envelope-drawer-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000080;z-index:200;display:flex;align-items:flex-end;justify-content:center;animation:fadeIn .2s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.envelope-drawer{background:#1a1a2e;border-radius:20px 20px 0 0;padding:12px 20px 24px;width:100%;max-width:400px;animation:slideUp .3s cubic-bezier(.175,.885,.32,1.275)}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.drawer-handle{width:40px;height:4px;background:#ffffff4d;border-radius:2px;margin:0 auto 16px}.drawer-header{display:flex;align-items:center;gap:14px;margin-bottom:16px}.drawer-title{display:flex;flex-direction:column;gap:2px}.drawer-envelope-name{font-size:18px;font-weight:700}.drawer-envelope-balance{font-size:13px;color:#ffffff80}.drawer-section{margin-bottom:16px}.drawer-section-label{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff6;margin-bottom:10px}.drawer-suggestion{background:#ffffff0d;border-radius:12px;padding:14px}.drawer-suggested-amount{font-size:24px;font-weight:700;color:#4ade80;display:block;margin-bottom:4px}.drawer-suggestion-reason{font-size:13px;color:#fff9;line-height:1.4}.drawer-amount-control{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:12px}.drawer-amount-btn{width:48px;height:48px;background:#ffffff1a;border:1px solid rgba(255,255,255,.15);border-radius:50%;color:#fff;font-size:22px;font-weight:600;cursor:pointer;transition:all .15s ease;display:flex;align-items:center;justify-content:center}.drawer-amount-btn:hover{background:#fff3}.drawer-amount-btn:active{transform:scale(.92);background:#ffffff40}.drawer-current-amount{font-size:32px;font-weight:700;min-width:100px;text-align:center;color:#fff}.drawer-suggested-btn{width:100%;padding:14px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:10px;color:#fff;font-size:14px;font-weight:500;cursor:pointer;transition:all .15s ease}.drawer-suggested-btn:hover{background:#ffffff26}.drawer-suggested-btn:active{transform:scale(.98)}.drawer-suggested-btn.active{background:#4ade80;border-color:#4ade80;color:#1a1a2e}.drawer-done-btn{width:100%;padding:14px;background:#fff;border:none;border-radius:10px;color:#1a1a2e;font-size:15px;font-weight:700;cursor:pointer;margin-top:8px;transition:all .15s ease}.drawer-done-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px #fff3}.drawer-done-btn:active{transform:scale(.98)}.drawer-history-section{margin-bottom:16px}.drawer-history-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.drawer-details-link{background:none;border:none;color:#ffffff80;font-size:12px;cursor:pointer;padding:0;transition:color .15s ease}.drawer-details-link:hover{color:#fffc}.horizontal-chart{display:flex;flex-direction:column;gap:8px}.h-chart-row{display:flex;align-items:center;gap:10px}.h-chart-label{width:60px;font-size:12px;color:#fff9;flex-shrink:0}.h-chart-bar-track{flex:1;height:20px;background:#ffffff14;border-radius:4px;overflow:hidden}.h-chart-bar{height:100%;border-radius:4px;transition:width .3s ease;min-width:4px}.h-chart-value{width:50px;font-size:13px;font-weight:600;color:#fffc;text-align:right;flex-shrink:0}.h-chart-row.suggested{margin-top:4px;padding-top:8px;border-top:1px solid rgba(255,255,255,.1)}.h-chart-row.suggested .h-chart-label{color:#4ade80;font-weight:500}.h-chart-value.suggested-value{color:#4ade80}.spending-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000b3;z-index:300;display:flex;align-items:center;justify-content:center;padding:20px;animation:fadeIn .2s ease}.spending-modal{background:#1a1a2e;border-radius:20px;padding:24px;width:100%;max-width:360px;animation:modalSlideIn .3s cubic-bezier(.175,.885,.32,1.275)}@keyframes modalSlideIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.modal-header{display:flex;align-items:center;gap:12px;margin-bottom:20px}.modal-header h2{flex:1;font-size:18px;font-weight:700;color:#fff}.modal-close{width:32px;height:32px;background:#ffffff1a;border:none;border-radius:50%;color:#fff;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s ease}.modal-close:hover{background:#fff3}.modal-stats{display:flex;justify-content:space-between;margin-bottom:24px;padding:16px;background:#ffffff0d;border-radius:12px}.modal-stat{text-align:center}.modal-stat .stat-value{display:block;font-size:20px;font-weight:700;color:#fff;margin-bottom:4px}.modal-stat .stat-label{font-size:11px;color:#ffffff80;text-transform:uppercase;letter-spacing:.5px}.modal-chart{display:flex;gap:12px;height:120px;margin-bottom:20px;padding:0 8px}.modal-bar-container{flex:1;display:flex;flex-direction:column;align-items:center}.modal-bar-wrapper{flex:1;width:100%;display:flex;align-items:flex-end;justify-content:center}.modal-bar{width:100%;max-width:48px;border-radius:6px 6px 0 0;transition:height .3s ease;min-height:8px}.modal-bar-label{font-size:12px;font-weight:500;color:#ffffff80;margin-top:8px}.modal-bar-value{font-size:14px;font-weight:700;color:#fff;margin-top:2px}.modal-explanation{font-size:13px;color:#fff9;line-height:1.5;margin-bottom:20px}.modal-done-btn{width:100%;padding:14px;background:#fff;border:none;border-radius:12px;color:#1a1a2e;font-size:15px;font-weight:700;cursor:pointer;transition:all .15s ease}.modal-done-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px #fff3}.complete-step{align-items:center;justify-content:center;text-align:center}.complete-check{width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#4ade80,#22c55e);border-radius:50%;color:#fff;margin-bottom:24px;box-shadow:0 8px 30px #4ade8066}.complete-check svg{font-size:64px}.complete-content h1{font-size:28px;font-weight:700;margin-bottom:12px;color:#fff}.complete-summary{color:#ffffffb3;font-size:15px;margin-bottom:24px}.period-info{background:#ffffff14;border-radius:12px;padding:16px 24px;margin-bottom:32px}.info-row{padding:8px 0}.info-row:first-child{border-bottom:1px solid rgba(255,255,255,.1)}.info-label{color:#fffc;font-size:14px}.coin-canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100;will-change:contents}.floating-badge{position:absolute;transform:translate(-50%,-50%);background:#fff;color:#1a1a2e;padding:6px 12px;border-radius:16px;font-weight:700;font-size:13px;white-space:nowrap;z-index:101;box-shadow:0 4px 15px #0003;will-change:transform,opacity}.coin{width:40px;height:40px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#f9e547,#f1c40f 40%,#d4a017);box-shadow:0 2px 8px #0006,inset 0 -2px 4px #0003,inset 0 2px 4px #ffffff4d;position:absolute;pointer-events:none;z-index:100;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:900;color:#b8860b;text-shadow:0 1px 1px rgba(255,255,255,.3);font-family:-apple-system,sans-serif;will-change:transform,opacity;contain:layout style}.coin-burst{position:absolute;width:40px;height:40px;border-radius:50%;pointer-events:none;z-index:99;opacity:0;will-change:transform,opacity;contain:layout style}.coin-burst.go{animation:burstRing .5s ease-out forwards}@keyframes burstRing{0%{opacity:.7;transform:scale(1);box-shadow:0 0 0 3px #f1c40fcc,0 0 20px #f1c40f66}to{opacity:0;transform:scale(2.5);box-shadow:0 0 0 1px #f1c40f00,0 0 40px #f1c40f00}}.spark{position:absolute;width:4px;height:4px;border-radius:50%;background:#f1c40f;pointer-events:none;z-index:99;opacity:0;will-change:transform,opacity;contain:layout style}.spark.go{animation:sparkFly .45s ease-out forwards}@keyframes sparkFly{0%{opacity:1;transform:translate(0) scale(1)}to{opacity:0;transform:translate(var(--sx),var(--sy)) scale(0)}}.trail-spark{position:absolute;pointer-events:none;z-index:99;border-radius:0;background:#f9e547;image-rendering:pixelated;box-shadow:0 0 0 1px #f1c40f99,2px 2px #00000026;will-change:transform,opacity;contain:layout style}.transfer-coin{width:28px;height:28px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#f9e547,#f1c40f 40%,#d4a017);box-shadow:0 2px 6px #0006,inset 0 -2px 3px #0003,inset 0 2px 3px #ffffff4d;position:absolute;pointer-events:none;z-index:101;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:900;color:#b8860b;font-family:-apple-system,sans-serif;will-change:transform,opacity;contain:layout style}.envelope-tile.dragging{cursor:grabbing;transition:none}.envelope-tile.drop-target{transition:transform .3s cubic-bezier(.175,.885,.32,1.275),box-shadow .2s ease;transform:scale(1.08);box-shadow:0 0 0 3px #4299e180,0 4px 12px #0000001a}
