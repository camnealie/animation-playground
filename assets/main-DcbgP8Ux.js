import{r as f,j as s,R as b}from"./index-Ba3bjXgo.js";import{g as v}from"./index-C8pce-KX.js";const E=2e3;function O(){const M=f.useRef(null),n=f.useRef(null);return f.useEffect(()=>{const a=M.current,r=a.getContext("2d");a.width=412,a.height=915;const l=new Image;l.src="/coin.png";const u=[];for(let e=0;e<E;e++){const h=Math.random()*Math.PI*2,o=800+Math.random()*200;u.push({angle:h,startRadius:o,radius:o,rotation:Math.PI/2+Math.random()*.3,duration:1.4+Math.random()*.8,delay:Math.random()*.6,size:120+Math.random()*80,progress:0,alive:!0})}let d=null,m;function I(e){return e*e}function R(e){d||(d=e);const h=(e-d)/1e3;r.clearRect(0,0,a.width,a.height);let o=0;for(let g=0;g<u.length;g++){const t=u[g];if(!t.alive)continue;const p=h-t.delay;if(p<0){o++;continue}const c=Math.min(p/t.duration,1);if(t.progress=I(c),c>=1){t.alive=!1;continue}o++;const x=t.startRadius*(1-t.progress),y=t.angle+t.rotation*t.progress,j=a.width/2+Math.cos(y)*x,A=a.height/2+Math.sin(y)*x,N=1-t.progress*.8,i=t.size*N,C=c>.85?(1-c)/.15:Math.min(p/.1,1);r.globalAlpha=C,r.drawImage(l,j-i/2,A-i/2,i,i)}r.globalAlpha=1,o>0&&(m=requestAnimationFrame(R))}l.onload=()=>{m=requestAnimationFrame(R)};const w=v.timeline({delay:.8});return v.set(n.current,{scale:0,opacity:0}),w.to(n.current,{scale:1.15,opacity:1,duration:.5,ease:"back.out(3)"}).to(n.current,{scale:1,duration:.3,ease:"power2.out"}).to(n.current,{scale:1.05,duration:.25,ease:"sine.inOut",yoyo:!0,repeat:3}).to(n.current,{scale:0,opacity:0,duration:.4,ease:"back.in(2)",delay:.2}),()=>cancelAnimationFrame(m)},[]),s.jsxs("div",{className:"app",children:[s.jsx("canvas",{ref:M,className:"drain-canvas"}),s.jsx("div",{className:"center-glow"}),s.jsx("img",{ref:n,src:"/loottitle.gif",alt:"Loot",className:"title"})]})}const z=b.createRoot(document.getElementById("root"));z.render(s.jsx(O,{}));
